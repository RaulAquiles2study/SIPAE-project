<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Login</title>
  <link rel="stylesheet" href="../css/estilo-login.css"/>
</head>
<body class="login-page">
  <div class="login-container">
    <h1>Registrar-se</h1>
    <form>
      <label>Login:</label>
      <input type="text" id="login" required />
      <label>Email:</label>
      <input type="text" id="email" required />
      <label>Senha:</label>
      <input type="password" id="senha" required />
      <input type="button" value="Registrar" id="entrar">
    </form>
    <a href="./index.html" style="display:block;margin-bottom:-30px;text-align:center">JÃ¡ possuo uma conta</a><br/>
  </div>
</body>

<script type="module">
import {makeRequest,redirecionar} from '../script.js'
localStorage.setItem('token',null)
document.getElementById('entrar').addEventListener('click', async () => {
 const login = document.getElementById("login").value;
 const senha = document.getElementById("senha").value;
 const email = document.getElementById("email").value;

 const resultR = await makeRequest('users',null,'POST',false,{name:login,pass:senha,email:email})

 localStorage.setItem('token',resultR.result);
 
 if (resultR.ok)
  redirecionar('Mostrar');
});
</script>

</html>